# Generic configuration (master)
root_dir: /
log_level: warning
conf_file: {{ conf_path }}

master:
    {% for hostport in masters_list %}
    - {{ hostport }}
    {% endfor %}

# Options
verify_env: True
cache_jobs: True
state_output_diff: False

# File-server configuration
file_client: remote
yaml_utf8: True

fileserver_backend:
    - roots
file_roots:
    base:
        - {{ file_root_path }}

# Pillar configuration
pillarenv_from_saltenv: True
pillar_opts: False
pillar_raise_on_missing: True

pillar_roots:
    base:
        - {{ pillar_root_path }}

on_demand_ext_pillar:
    - etcd

# returner
root_etcd:
    etcd.host: {{ etcd_service.host }}
    etcd.port: {{ etcd_service.port }}
etcd.returner: root_etcd
etcd.returner_root: /salt/return

# pillar extension
project_etcd:
    etcd.host: {{ etcd_service.host }}
    etcd.port: {{ etcd_service.port }}
ext_pillar:
    {% for path in etcd_root_path %}
    - etcd: project_etcd root={{ path }}
    {% endfor %}

# Grain configuration
grains:
    minion_role: {{ role }}
