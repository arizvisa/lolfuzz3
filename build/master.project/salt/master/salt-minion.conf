conf_file: /etc/salt/minion
log_level: info

id: {{ id }}

master: localhost
root_dir: /

# Network configuration
ipv6: True
transport: zeromq

# Options
verify_env: True
state_output_diff: False
cython_enable: True

# File-server configuration
file_recv_max_size: 512

fileserver_backend:
    - roots

# Pillar configuration
pillarenv_from_saltenv: True
pillar_raise_on_missing: True

# Files
file_roots:
    {%- for root in root_files %}
    {{ root.name }}:
        - {{ root.path }}
    {%- endfor %}

# Pillars
pillar_roots:
    {%- for pillar in root_pillars %}
    {{ pillar.name }}:
        - {{ pillar.path }}
    {%- endfor %}

# Grains
grains:
    minion-role: master
    machine-id: {{ machine_id }}
