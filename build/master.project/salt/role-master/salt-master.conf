# Generic configuration
root_dir: /
log_level: warning
conf_file: /etc/salt/master

transport: zeromq
file_recv_max_size: 512

# Network binding
interface: '::'
ipv6: True

# Options
verify_env: True
presence_events: True
auto_accept: True
state_output_diff: False

# Job configuration
show_jid: True
cli_summary: True
master_job_cache: etcd

# File-server configuration
yaml_utf8: True

fileserver_backend:
    - roots
file_roots:
    base:
        - /srv/salt

# Pillar configuration
pillarenv_from_saltenv: True
pillar_opts: True
pillar_raise_on_missing: True

pillar_roots:
    base:
        - /srv/pillar

# returner
root_etcd:
    etcd.host: {{ etcd_service.host }}
    etcd.port: {{ etcd_service.port }}
etcd.returner: root_etcd
etcd.returner_root: /salt/return

# pillar extension
project_etcd:
    etcd.host: {{ etcd_service.host }}
    etcd.port: {{ etcd_service.port }}
ext_pillar:
    {% for path in etcd_root_path %}
    - etcd: project_etcd root={{ path }}
    {% endfor %}

# Grain configuration
grains:
    minion-role: master
